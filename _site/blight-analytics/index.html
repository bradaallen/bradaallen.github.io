<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Exploring Detroit's Housing Renewal Efforts. &#8211; Perpetually Learning</title>
<meta name="description" content="Identifying underlying trends in blight conditions.">
<meta name="keywords" content="">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Exploring Detroit's Housing Renewal Efforts.">
<meta name="twitter:description" content="Identifying underlying trends in blight conditions.">
<meta name="twitter:site" content="@bradaallen">
<meta name="twitter:creator" content="@bradaallen">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Exploring Detroit's Housing Renewal Efforts.">
<meta property="og:description" content="Identifying underlying trends in blight conditions.">
<meta property="og:url" content="http://localhost:4000/blight-analytics/">
<meta property="og:site_name" content="Perpetually Learning">

<meta property="og:image" content="http://localhost:4000/images/default-thumb.png">






<link rel="canonical" href="http://localhost:4000/blight-analytics/">
<!-- <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Perpetually Learning Feed"> -->

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://localhost:4000/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://localhost:4000/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Google Analytics Account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30527258-2', 'auto');
  ga('send', 'pageview');

</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>

<!-- Setting up an RSS Feed -->
<link rel="alternate" type="application/rss+xml" title="The Perpetual Apprentice" href="/feed.xml" />

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://localhost:4000/">Perpetually Learning</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		
		
		    <ul>
		        
				    
				    <li><a href="http://localhost:4000/writing/" >Writing</a></li>
				
				    
				    <li><a href="http://localhost:4000/photos/" >Photos</a></li>
				
				    
				    <li><a href="http://localhost:4000/about/" >About</a></li>
				
				    
				    <li><a href="http://localhost:4000/signup/" >Keep in Touch!</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="http://schema.org/Person">


	<img src="http://localhost:4000/images/Brad_Thumbs_Up.jpg" class="bio-photo" alt="Brad Allen bio photo">


  <h3 itemprop="name">Brad Allen</h3>
  <p>Doing a little more each day.</p>
  <a href="mailto:bradaallen@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="http://twitter.com/bradaallen" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  <a href="http://facebook.com/bradaallen" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>
  
  <a href="http://linkedin.com/in/bradaallen" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  <a href="http://instagram.com/bradaallen" class="author-social" target="_blank"><i class="fa fa-fw fa-instagram"></i> Instagram</a>
  
  <a href="http://github.com/bradaallen" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://localhost:4000/blight-analytics/" rel="bookmark" title="Exploring Detroit's Housing Renewal Efforts.">Exploring Detroit's Housing Renewal Efforts.</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>For the capstone project to the <a href="https://www.coursera.org/specializations/data-science">“Data Science at Scale” course offered by the University of Washington</a>, we were asked to do an analysis of blighted properties within the City of Detroit.</p>

<p>We were asked to, based on commonly accepted predictors of blight, develop a model to determine which individual homes would become blighted / up for demolition. The datasets provided can be found at the <a href="https://data.detroitmi.gov/">Detroit Open Data Portal</a> and the <a href="https://github.com/uwescience/datasci_course_materials">course Github repo</a>.</p>

<p>Detroit is currently undergoing significant change; it is very relevant to explore neighborhood decline, vacancies, abandonment, and crime and offer suggestions for how the phenomena are interrelated. Similar to much of the literature currently available for housing abandonment, this project faced many of the same challenges when developing early warning systems: defining housing abandonment, integrating secondary data from multiple sources, incorporating temporal and spatial aspects of these data, and measuring the ability of various data elements to predict abandonment.</p>

<p>After transforming and preparing the data for analysis, my model (random forest) was able to accurately predict the blighted properties 75.7% of the time with a Kappa statistic of 0.5149, which Landis and Koch would describe as <a href="https://en.wikipedia.org/wiki/Fleiss%27_kappa">providing “moderate agreement.”</a></p>

<p>All of my work can be found and used for reproduction <a href="https://github.com/brad-svds/blight_project">in my Github repo at this link</a>.</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">{r}</code>
	<code class="language-plaintext highlighter-rouge">Confusion Matrix and Statistics</code>
	<code class="language-plaintext highlighter-rouge">Reference</code>
	<code class="language-plaintext highlighter-rouge">Prediction False True</code>
	<code class="language-plaintext highlighter-rouge">    False   197    5</code>
	<code class="language-plaintext highlighter-rouge">    True     93  109</code>                              <br />
	<code class="language-plaintext highlighter-rouge">              Accuracy : 0.7574</code>        <br />
	<code class="language-plaintext highlighter-rouge">                95% CI : (0.7126, 0.7984)</code>
	<code class="language-plaintext highlighter-rouge">   No Information Rate : 0.7178</code>        <br />
	<code class="language-plaintext highlighter-rouge">   P-Value [Acc &gt; NIR] : 0.4177</code>                                 <br />
	<code class="language-plaintext highlighter-rouge">                 Kappa : 0.5149</code>        <br />
	<code class="language-plaintext highlighter-rouge">Mcnemar's Test P-Value : &lt; 2e-16</code></p>
</blockquote>

<p>##Approach</p>

<p>Some brief domain research provided by the course gave some preliminary clues for successful modeling—for example, Morckel (2013) found that three factors predict housing abandonment at the neighborhood level: market conditions, gentrification, and physical neglect.</p>

<p>Particularly counterintuitive to me was the “gentrification factor”: such as, the percentage of properties built prior to 1945, the percentage of residents over 65 years of age, the percentage of residents 25 years and older without a bachelor’s degree or higher, and the percentage of residents who are in poverty.</p>

<p>This was not a suitable avenue for what we were provided, however: 311 call data, crime reports, and blight violations. This led us more towards viewing physical neglect. The literature also emphasized the challenges in defining housing abandonment and creating predictors: for example, homes that are close to being fully blighted and up for demolition may actually have their larceny rates <em>drop</em> due to the fact that there is less that is available to steal. As a result, analyses strictly based on the rate of crimes may reach a point in a building’s life at which they may begin to misclassify.</p>

<p>I began my approach by restructuring the call, crime, and blight record data to reflect the status of Detroit homes on a building-by-building basis.</p>

<h2 id="data-processing">Data Processing</h2>

<p>Data processing was by far the most time-intensive component of this exercise. All of the feature data we were provided was in a “per incident” format and needed to be repurposed to a “per building” format. A second issue was that all of our data were for buildings that presumably had reason to be blighted—therefore, if we based our “building-by-building” database using this information exclusively, we would likely have a bias in our set that wasn’t representative of Detroit housing more broadly. To get around this, I added the Parcel Points Ownership dataset from the Detroit Open Data website linked earlier.</p>

<p>To get to my final dataset (which can be found in my repo linked in the Exec Sum), I alternated between using Python notebooks for fast <code class="language-plaintext highlighter-rouge">FOR loops</code> and R for cleaning, joining, and statistical analysis.</p>

<p>My first exercise involved cleaned all of the files so that each would have a Latitude field labeled LAT and a Longitude field labeled LON. I used R for cleaning and then I used Python to create my master data set: I wanted to develop a FOR loop to match files that have proximate LAT and LON fields - I noticed that R did not work well for these loops - it got stuck with information in memory and has performance issues.</p>

<p>I used a few tools to visualize the data (based on the great feedback here): CartoDB and the FME Workbench for doing ETL activities. I didn’t notice any major discrepancies - I did not try to match a text address to the LAT / LON provided. I also did “programmatic visualization” - some high level EDA to get a sense of the shape of the data and what was available to me.</p>

<p>Using the LAT and LON files from the Parcel Points dataset (~384K records), I matched all demolition permit records that had a LAT and LON difference of less than .0002. This left me with 810 records matching. I then randomly sampled 810 records of the negative set to have a balanced dataset of 1620 records.</p>

<p>With this 1620 records, I looped the crime, blight, and 311 data and stored all matches in a dictionary. I created extra fields / features based on the frequency with wich each “type of” crime, blight, or 311 call occurred.</p>

<h2 id="data-analysis">Data Analysis</h2>

<p>With the created features, I ran a random forest model to try and get a sense of the difference in importance to the final output. It was unsurprising that the blight violations calls drove much of the accuracy in the model; however, I was surprised at the <em>extent to which</em> it dwarfed other features of crime and 311 calls. This ties back to the original research of “physical neglect.”</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">{r2}</code>
	<code class="language-plaintext highlighter-rouge"># varImp() output of randomForest() model:</code>
	<code class="language-plaintext highlighter-rouge">                           Overall</code>
	<code class="language-plaintext highlighter-rouge">CALLS_COUNT               2.02973918</code>
	<code class="language-plaintext highlighter-rouge">CALLS_DUMPING             0.30152068</code>
	<code class="language-plaintext highlighter-rouge">CALLS_POTHOLES            0.49670267</code>
	<code class="language-plaintext highlighter-rouge">CALLS_WATER               0.37422692</code>
	<code class="language-plaintext highlighter-rouge">CALLS_ABANDONED           0.45088188</code>
	<code class="language-plaintext highlighter-rouge">CALLS_TREE                0.52644108</code>
	<code class="language-plaintext highlighter-rouge">CALLS_CLOGGED             0.92316501</code>
	<code class="language-plaintext highlighter-rouge">CALLS_TRASH               0.31293938</code>
	<code class="language-plaintext highlighter-rouge">CALLS_DPW                 0.07254137</code>
	<code class="language-plaintext highlighter-rouge">CALLS_TRAFFICSIGN         0.60961322</code>
	<code class="language-plaintext highlighter-rouge">CALLS_WATERMAIN           0.58805763</code>
	<code class="language-plaintext highlighter-rouge">CALLS_TRAFFICSIGNAL       0.10332144</code>
	<code class="language-plaintext highlighter-rouge">CALLS_STREETLIGHT         0.53195711</code>
	<code class="language-plaintext highlighter-rouge">CALLS_MANHOLE             0.02093165</code>
	<code class="language-plaintext highlighter-rouge">CALLS_HYDRANT             0.00000000</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_COUNT             89.58513785</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_COMPLIANCE        35.55500730</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_WASTE             12.09910740</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_REGISTRATION      18.55543623</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_WASTEACCUMULULATE  9.90612603</code>
	<code class="language-plaintext highlighter-rouge">BLIGHT_WEEDS             17.03895183</code>
	<code class="language-plaintext highlighter-rouge">CRIME_COUNT               4.37055292</code>
	<code class="language-plaintext highlighter-rouge">CRIME_MOTORCYCLE          0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_PROPERTY            0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_ASSAULT             0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_STOLENVEHICLE       0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_LARCENY             0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_BURGLARY            0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_AGGASSAULT          0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_FRAUD               0.00000000</code>
	<code class="language-plaintext highlighter-rouge">CRIME_DRUGS               0.00000000</code></p>
</blockquote>

<p>A strict decision tree was also helpful in generating new information; it was able to determine that 95% of properties with greater than 28 records were up for demolition. These types of heuristics (which are not present in random forest models) can be great guidance for an “on the ground” team doing preventative work.</p>

<p>With additional time, I would have preferred to include temporal aspects, such as how crime rates change as buildings get more blighted. Specific kinds of blight (e.g., “waste” might show up for truly blighted properties, where as “failure to comply” is just negligence.) or patterns of blight early in the “violations process” may also be useful for distinguishing between outcomes.</p>

<p>Reviewing the decision tree, it seems like the analytical tools did not drill too much farther beyond the strict counting of total violations, and so I would treat this model as a surface-level accuracy. With more time, I would have converted my dataset to a temporal view and looked for patterns as to how violations accumulate. Any advice or suggestions for how to improve the analytical process would be much appreciated as well.</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">{r4}</code>
	<code class="language-plaintext highlighter-rouge">Confusion Matrix and Statistics</code>
	<code class="language-plaintext highlighter-rouge">Reference</code>
	<code class="language-plaintext highlighter-rouge">Prediction False True</code>
	<code class="language-plaintext highlighter-rouge">    False   197    5</code>
	<code class="language-plaintext highlighter-rouge">    True     93  109</code>                               <br />
	<code class="language-plaintext highlighter-rouge">              Accuracy : 0.7574 </code>      <br />
	<code class="language-plaintext highlighter-rouge">                95% CI : (0.7126, 0.7984)</code>
	<code class="language-plaintext highlighter-rouge">   No Information Rate : 0.7178         </code>
	<code class="language-plaintext highlighter-rouge">   P-Value [Acc &gt; NIR] : 0.04177        </code>                      <br />
	<code class="language-plaintext highlighter-rouge">                 Kappa : 0.5149         </code>
	<code class="language-plaintext highlighter-rouge">Mcnemar's Test P-Value : &lt; 2e-16</code></p>
</blockquote>


      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/blight-analytics/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/blight-analytics/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://localhost:4000/blight-analytics/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Exploring Detroit's Housing Renewal Efforts.</strong> was published on <time datetime="2016-06-10T00:00:00-07:00">June 10, 2016</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  </article>
</div><!-- /#main -->

<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//bradaallen.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://localhost:4000/writing/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://localhost:4000/moving-to-github/" title="Moving hosting from AWS to Github.">Moving hosting from AWS to Github.</a></li>
    
      <li><a href="http://localhost:4000/developing-agile-data-scientists/" title="Preparing Data Scientists to Develop in Agile.">Preparing Data Scientists to Develop in Agile.</a></li>
    
      <li><a href="http://localhost:4000/data-science-and-agile/" title="True Agile: Core to a DS Workflow.">True Agile: Core to a DS Workflow.</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2020 Brad Allen. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


<script id="dsq-count-scr" src="//bradaallen.disqus.com/count.js" async></script>

</body>
</html>
